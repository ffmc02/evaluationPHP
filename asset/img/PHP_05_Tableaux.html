
  Les tableaux


    Introduction

Un tableau est une variable contenant une liste de valeurs regroupées
sous forme d'un tableau en lignes et en colonnes.

Les tableaux ont une grande importance dans la création de script PHP,
comme dans bien d'autres langages d'ailleurs.

*Dans le cas d'accès à des bases de données par exemple certaines
fonctions retournent des valeurs sous forme de tableaux.*


    Déclaration de tableaux


      Tableaux simples

Exemple :

|
	
<?php
	
    $tableau = array(); // instruction optionnelle
	
    $tableau[0] = "Pomme"; 
	
    $tableau[1] = "Poire"; 
	
    $tableau[2] = "Banane";

|

ou

|
	
<?php
	
    $tableau = array(); // instruction optionnelle
	
    $tableau[] = "Pomme"; 
	
    $tableau[] = "Poire"; 
	
    $tableau[] = "Banane";

|

ou

|    $tableau = array("Pomme", "Poire", "Banane");
|

Ces trois exemples sont en fait identiques dans le résultat.


      Tableaux à plusieurs dimensions

|
	
<?php
	
$tab1[] = array(1, "janvier", "2016"); 
	
$tab1[] = array(2, "février", "2017"); 
	
$tab1[] = array(3, "mars", "2018"); 
	
$tab1[] = array(4, "avril", "2019");
	

|

Exemple :

|
	
// Affiche : 3 mars 2018
	
echo $tab1[2][0]." ".$tab1[2][1]." ".$tab1[2][2]."<br>"; 

|


      Tableaux associatifs

Comme son nom l'indique, le tableau associatif permet d'associer une
valeur à une autre plus représentative que celle-ci.

Imaginons que vous vouliez représenter ce que vous avez payé comme
facture de téléphone par mois sur une année. Si vous utilisez un tableau
classique vous allez associer chaque ligne du tableau aux mois et la
colonne aux valeurs.

|
	
<?php
	
$facture[0] = 500; représente Janvier 
	
$facture[1] = 620; représente Février 
	
$.......... 
	
$facture[11]= 300; représente Décembre 
	

|

Grâce aux tableaux associatifs vous allez représenter le même tableau
comme suit :

|
	
$facture["Janvier"] = 500; 
	
$facture["Février"] = 620; 
	
$........ 
	
$facture["décembre"] = 300; 

|

Vous pouvez aussi l'écrire en utilisant l'opérateur de l'association
|=>| (signe égal et signe supérieur à)

|
	
$facture = array(
	
    "Janvier"    =>    500,
	
    "Février"    =>    620,
	
    "Décembre"    =>    300
	
);

|


    Manipulations de tableaux


      Manipulation des tableaux associatifs

Après avoir créé un tableau associatif, il est bien sûr indispensable de
pouvoir manipuler et trier les valeurs de celui-ci. Pour cela PHP nous
offre une multitude de fonctions.

Exemple :

|
	
    $facture = array("Janvier"=>500, "Février"=>620, "Mars"=>300, "Avril"=>130, "Mai"=>560, "Juin"=>350); 
	
    $facture_sixmois=0; 
	
 
	
    foreach ($facture as $mois => $valeur) 
	
    { 
	
       echo "Facture du mois de $mois : $valeur Euros<br />"; 
	
       $facture_sixmois +=$valeur; 
	
    } 
	
 
	
    echo "Facture total de six mois : <b>$facture_sixmois Euros</b>"; 
	
    ?>

|

L'instruction |foreach| permet d'extraire un couple (clé, valeur) à
chaque tour de boucle.  


    Tri dans les tableaux

PHP propose un ensemble complet de fonctions pour le tri de tableaux.


      La fonction |sort()|

Cette fonction vous permet de trier dans l'ordre alphabétique ou
numérique les données d'un tableau.

|
	
$nom = array("franck","laurent","caroline","magali","veronique");    
	
sort($nom);
	
 
	
for ($nb1=0;$nb1<=count($nom)-1; $nb1++) 
	
{
	
   echo "$nom[$nb1]<br>";
	
}

|

Le résultat affiche /caroline, franck, laurent, magali, veronique/.


      La fonction |rsort(array)|;

Tri décroissant d'un tableau

|
	
$nom = array("franck","laurent","caroline","magali","veronique");
	
rsort($nom);
	
 
	
for ($nb1=0;$nb1<=count($nom)-1; $nb1++) 
	
{
	
   echo "$nom[$nb1]<br>";
	
}

|

Le résultat affiche /veronique magali laurent franck caroline/.


    Instructions de manipulation de tableaux


      La fonction |asort()|

Tri décroissant sur un tableau associatif, l'indexation des clefs est
conservée. Le tri se fait sur les valeurs, pas sur les clés :

|
	
$tableau = array("a" => "Lundi",
	
                 "b" => "Mardi",
	
                 "c" => "Mercredi",
	
                 "d" => "Jeudi",
	
                 "e" => "Vendredi"
	
            ); 
	
 
	
 
	
 
	
foreach($tableau as $cle => $valeur) 
	
{ 
	
   echo $cle ." : ".$valeur."<br>"; 
	
}

|

Le résultat donne :

|
	
  Jour[a] = Lundi 
	
  Jour[b] = Mardi 
	
  Jour[c] = Mercredi     
	
  Jour[d] = Jeudi
	
  Jour[e] = Vendredi

|


      La fonction |arsort()|

Tri décroissant sur un tableau associatif, l'indexation des clefs est
conservée. Le tri se fait sur les valeurs, pas sur les clés :

|
	
$tableau = array("a" => "Lundi",
	
                 "b" => "Mardi",
	
                 "c" => "Mercredi",
	
                 "d" => "Jeudi");
	
 
	
foreach($tableau as $cle => $valeur) 
	
{ 
	
   echo $cle ." : ".$valeur."<br>"; 
	
} 

|

Le résultat donne : /Jour[c] = Mercredi Jour[b] = Mardi Jour[a] = Lundi
Jour[d] = Jeudi/.


      La fonction |count()|

Retourne le nombre d'éléments d'un tableau.

|
	
$tableau = array("Lundi","Mardi","Mercredi", "Jeudi", "Vendredi"); 
	
$nb = count($tableau); 
	
echo"Le tableau contient ".$nb." éléments."; 

|

Affiche /5/ (5 éléments dans le tableau).

    La fonction |sizeof()| fait strictement la même chose; il s'agit
    d'un /alias/ de |count()|.


      La fonction |array_push()|;

Cette instruction permet d'ajouter un élément à la fin du tableau.

|
	
$tableau = array("Lundi","Mardi","Mercredi","Jeudi"); 
	
array_push($tableau, "Vendredi"); 

|

La valeur /Vendredi/ a été ajoutée en dernière position du tableau.


      La fonction |array_pop()|

Extrait un élément de la fin du tableau :

|
	
$tableau = array("Lundi","Mardi","Mercredi"); 
	
$jour = array_pop($tableau); 

|

Après cette opération, |$tableau| ne contient plus que /Lundi/ et /Mardi/.


      La fonction |array_unshift()|

Ajoute un élément en début de tableau

|
	
$tableau = array("Jeudi", "Vendredi"); 
	
array_unshift($tableau, "Lundi", "Mardi", "Mercredi"); 

|

Après cette opération |$tableau| contient /Lundi/, /Mardi/, /Mercredi/,
/Jeudi/, /Vendredi/, dans cet ordre.


      La fonction |array_shift()|

Dépile un élément (et un seul) en début du tableau

|
	
$tableau = array("Jeudi", "Vendredi"); 
	
$jour = array_shift($tableau); 

|

Après cette opération, |$tableau| contient /Vendredi/ et |$jour|
contient /Jeudi/.


      Autres fonctions

Pour en comprendre le fonctionnement, reproduisez les exemples donnés
dans la documentation officielle de ces autres fonctions utiles pour les
tableaux PHP :

  * array_reverse()
  * array_key_exists()
  * array_merge()
  * array_diff()
  * array_intersect()
  * array_column()
  * array_slice()
  * array_splice()
  * array_sum()
  * array_unique()
  * in_array()
  * array_values()
  * shuffle()


    Références

  * Liste des fonctions PHP sur les tableaux
    <http://php.net/manual/fr/ref.array.php>


    Exercices


        1. Mois de l'année non bissextile

Créez un tableau associant à chaque mois de l’année le nombre de jours
du mois.

Utilisez le nom des mois comme clés de votre tableau associatif.

Affichez votre tableau (dans un tableau HTML) pour faire apparaitre sur
chaque ligne le nom du mois et le nombre de jours du mois.

Triez ensuite votre tableau en utilisant comme critère le nombre de
jours, puis affichez le résultat.


        2. Capitales

|
	
$capitales = array(
	
    "Bucarest" => "Roumanie",
	
    "Bruxelles" => "Belgique",
	
    "Oslo" => "Norvège",
	
    "Ottawa" => "Canada",
	
    "Paris" => "France",
	
    "Port-au-Prince" => "Haïti",
	
    "Port-d'Espagne" => "Trinité-et-Tobago",
	
    "Prague" => "République tchèque",
	
    "Rabat" => "Maroc",
	
    "Riga" => "Lettonie",
	
    "Rome" => "Italie",
	
    "San José" => "Costa Rica",
	
    "Santiago" => "Chili",
	
    "Sofia" => "Bulgarie",
	
    "Alger" => "Algérie",
	
    "Amsterdam" => "Pays-Bas",
	
    "Andorre-la-Vieille" => "Andorre",
	
    "Asuncion" => "Paraguay",
	
    "Athènes" => "Grèce",
	
    "Bagdad" => "Irak",
	
    "Bamako" => "Mali",
	
    "Berlin" => "Allemagne",
	
    "Bogota" => "Colombie",
	
    "Brasilia" => "Brésil",
	
    "Bratislava" => "Slovaquie",
	
    "Varsovie" => "Pologne",
	
    "Budapest" => "Hongrie",
	
    "Le Caire" => "Egypte",
	
    "Canberra" => "Australie",
	
    "Caracas" => "Venezuela",
	
    "Jakarta" => "Indonésie",
	
    "Kiev" => "Ukraine",
	
    "Kigali" => "Rwanda",
	
    "Kingston" => "Jamaïque",
	
    "Lima" => "Pérou",
	
    "Londres" => "Royaume-Uni",
	
    "Madrid" => "Espagne",
	
    "Malé" => "Maldives",
	
    "Mexico" => "Mexique",
	
    "Minsk" => "Biélorussie",
	
    "Moscou" => "Russie",
	
    "Nairobi" => "Kenya",
	
    "New Delhi" => "Inde",
	
    "Stockholm" => "Suède",
	
    "Téhéran" => "Iran",
	
    "Tokyo" => "Japon",
	
    "Tunis" => "Tunisie",
	
    "Copenhague" => "Danemark",
	
    "Dakar" => "Sénégal",
	
    "Damas" => "Syrie",
	
    "Dublin" => "Irlande",
	
    "Erevan" => "Arménie",
	
    "La Havane" => "Cuba",
	
    "Helsinki" => "Finlande",
	
    "Islamabad" => "Pakistan",
	
    "Vienne" => "Autriche",
	
    "Vilnius" => "Lituanie",
	
    "Zagreb" => "Croatie"
	
);

|

A partir du tableau ci-dessus:

 1. Affichez la liste des capitales (par ordre alphabétique) suivie du
    nom du pays.

    Consultez la documentation PHP sur le tri des tableaux
    <https://www.php.net/manual/fr/array.sorting.php>

 1.

    Affichez la liste des pays (par ordre alphabétique) suivie du nom de
    la capitale.

 2.

    Affichez le nombre de pays dans le tableau.

 3.

    Supprimer du tableau toutes les capitales ne commençant par la
    lettre 'B', puis affichez le contenu du tableau.


        3. Départements

|
	
$departements = array(
	
    "Hauts-de-france" => array("Aisne", "Nord", "Oise", "Pas-de-Calais", "Somme"),
	
    "Bretagne" => array("Côtes d'Armor", "Finistère", "Ille-et-Vilaine", "Morbihan"),
	
    "Grand-Est" => array("Ardennes", "Aube", "Marne", "Haute-Marne", "Meurthe-et-Moselle", "Meuse", "Moselle", "Bas-Rhin", "Haut-Rhin", "Vosges"),
	
    "Normandie" => array("Calvados", "Eure", "Manche", "Orne", "Seine-Maritime")
	
);

|

A partir du tableau ci-dessus:

 1.

    Affichez la liste des régions (par ordre alphabétique) suivie du nom
    des départements

 2.

    Affichez la liste des régions suivie du nombre de départements

Les tableaux
Introduction
Déclaration de tableaux
    Tableaux simples
    Tableaux à plusieurs dimensions
    Tableaux associatifs
Manipulations de tableaux
    Manipulation des tableaux associatifs
Tri dans les tableaux
    La fonction |sort()|
    La fonction |rsort(array)|;
Instructions de manipulation de tableaux
    La fonction |asort()|
    La fonction |arsort()|
    La fonction |count()|
    La fonction |array_push()|;
    La fonction |array_pop()|
    La fonction |array_unshift()|
    La fonction |array_shift()|
    Autres fonctions
Références
Exercices
    1. Mois de l'année non bissextile
    2. Capitales
    3. Départements
